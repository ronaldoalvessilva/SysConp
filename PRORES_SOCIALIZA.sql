-- INICIO EM: 31/05/2019

-- PRORES
-- MÓDULO ENFERMARIA

IF NOT EXISTS(SELECT 1 FROM SYSCOLUMNS WHERE ID = OBJECT_ID('ADMISSAOENFERMEIRA') AND NAME = 'Hanseniase')
   ALTER TABLE ADMISSAOENFERMEIRA ADD Hanseniase VARCHAR(30) NULL

IF NOT EXISTS(SELECT 1 FROM SYSCOLUMNS WHERE ID = OBJECT_ID('ADMISSAOENFERMEIRA') AND NAME = 'Escabiose')
   ALTER TABLE ADMISSAOENFERMEIRA ADD Escabiose VARCHAR(3) NULL

IF NOT EXISTS(SELECT 1 FROM SYSCOLUMNS WHERE ID = OBJECT_ID('ADMISSAOENFERMEIRA') AND NAME = 'Dst')
   ALTER TABLE ADMISSAOENFERMEIRA ADD Dst VARCHAR(30) NULL

IF NOT EXISTS(SELECT 1 FROM SYSCOLUMNS WHERE ID = OBJECT_ID('ADMISSAOENFERMEIRA') AND NAME = 'Vacina')
   ALTER TABLE ADMISSAOENFERMEIRA ADD Vacina VARCHAR(3) NULL


IF NOT EXISTS (SELECT NULL FROM SYSOBJECTS WHERE ID = OBJECT_ID('ACOMPANHAMENTO_INTERNO_ENFERMARIA'))
	CREATE TABLE ACOMPANHAMENTO_INTERNO_ENFERMARIA
	(
	IdEnf INT IDENTITY (1,1) PRIMARY KEY NOT NULL,	
	IdLanc INT FOREIGN KEY REFERENCES ADMISSAOENFERMEIRA(IdLanc) NOT NULL,
	IdEvoEnfer INT NULL,
	IdInternoCrc INT FOREIGN KEY REFERENCES PRONTUARIOSCRC(IdInternoCrc) NOT NULL,
	DataReg DATETIME NULL,
	Diabetes VARCHAR(3) NULL,
	DiabControl VARCHAR(3) NULL,
	QtdDiabetes INT NULL,
	Hipertensao VARCHAR(3) NULL,
	HiperControl VARCHAR(3) NULL,
	QtdHipertensao INT NULL,
	Escabiose VARCHAR(3) NULL,
	EscabioseCura VARCHAR(3) NULL,
	QtdEscabiose INT NULL,
	Hanseniase VARCHAR(3) NULL,
	HanseniaseCura VARCHAR(3) NULL,
	QtdHanseniase INT NULL,
	Sifilis VARCHAR(13) NULL,
	SifilisCura VARCHAR(3) NULL,
	QtdSifilis INT NULL,
	Tuberculose VARCHAR(13) NULL,
	TuberculoseCura VARCHAR(3) NULL,
	QtdTuberculose INT NULL,
	Hiv VARCHAR(13) NULL,
	HivControlada VARCHAR(3) NULL,
	QtdHiv INT NULL,
	HepatiteB VARCHAR(13) NULL,
	HepatiteBCont VARCHAR(3) NULL,
	QtdHepatiteB INT NULL,
	HepatiteC VARCHAR(13) NULL,
	HepatiteCCont VARCHAR(3) NULL,
	QtdHepatiteC INT NULL,
	Dst VARCHAR(13) NULL,
	DstCurada VARCHAR(3) NULL,
	QtdDst INT NULL,
	Vdlr VARCHAR(13) NULL,
	VdlrCurada VARCHAR(3) NULL,
	QtdVdlr INT NULL,
	Vacina VARCHAR(3) NULL,
	VacinaCura VARCHAR(3) NULL,
	QtdVacina INT NULL,
	Observacao VARCHAR(MAX) NULL,
	UsuarioInsert VARCHAR(50) NULL,
	UsuarioUp VARCHAR(50) NULL,
	DataInsert VARCHAR(20) NULL,
	DataUp VARCHAR(20) NULL,
	HorarioInsert VARCHAR(10) NULL,
	HorarioUp VARCHAR(10) NULL,	
	)
-- TERMINO DA IMPLEMENTAÇÃO DA ENFERMAGEM: 01/06/2019

-- INICIO DO MÓDULO PEDAGOGIA
-- DATA: 03/06/2019

IF NOT EXISTS(SELECT 1 FROM SYSCOLUMNS WHERE ID = OBJECT_ID('ITENSMATRICULA') AND NAME = 'StatusAluno')
   ALTER TABLE ITENSMATRICULA ADD StatusAluno VARCHAR(30) NULL

IF NOT EXISTS(SELECT 1 FROM SYSCOLUMNS WHERE ID = OBJECT_ID('ITENSMATRICULA') AND NAME = 'SituacaoAluno')
   ALTER TABLE ITENSMATRICULA ADD SituacaoAluno VARCHAR(30) NULL

IF NOT EXISTS(SELECT 1 FROM SYSCOLUMNS WHERE ID = OBJECT_ID('ITENSMATRICULA') AND NAME = 'DataConDes')
   ALTER TABLE ITENSMATRICULA ADD DataConDes DATETIME NULL

IF NOT EXISTS(SELECT 1 FROM SYSCOLUMNS WHERE ID = OBJECT_ID('ITENSMATRICULA') AND NAME = 'Observacao')
   ALTER TABLE ITENSMATRICULA ADD Observacao VARCHAR(MAX) NULL

IF NOT EXISTS(SELECT 1 FROM SYSCOLUMNS WHERE ID = OBJECT_ID('EVOLUCAO_ADMISSAO_PEDAGOGIA') AND NAME = 'AcessoUni')
   ALTER TABLE EVOLUCAO_ADMISSAO_PEDAGOGIA ADD AcessoUni VARCHAR(3) NULL
IF NOT EXISTS(SELECT 1 FROM SYSCOLUMNS WHERE ID = OBJECT_ID('EVOLUCAO_ADMISSAO_PEDAGOGIA') AND NAME = 'AnoIngresso')
   ALTER TABLE EVOLUCAO_ADMISSAO_PEDAGOGIA ADD AnoIngresso INT NULL

IF NOT EXISTS(SELECT 1 FROM SYSCOLUMNS WHERE ID = OBJECT_ID('TEMPOFORMATIVO') AND NAME = 'GrauInstrucaoEquivalente')
   ALTER TABLE TEMPOFORMATIVO ADD GrauInstrucaoEquivalente VARCHAR(60) NULL

-- DATA 04-06-2019
-- RESENHA PARA REMISSÃO DE PENA

IF NOT EXISTS (SELECT NULL FROM SYSOBJECTS WHERE ID = OBJECT_ID('RESENHA_REMICAO_INTERNO'))
	CREATE TABLE RESENHA_REMICAO_INTERNO
	(
	IdResenha INT IDENTITY (1,1) PRIMARY KEY NOT NULL,	
	StatusResenha VARCHAR(20) NULL,
	DataResenha DATETIME NULL,
	IdLivro INT FOREIGN KEY REFERENCES LIVROS_REVISTAS_JORNAIS(IdLivro) NOT NULL,
	IdInternoCrc INT FOREIGN KEY REFERENCES PRONTUARIOSCRC(IdInternoCrc) NOT NULL,
	IdFunc INT FOREIGN KEY REFERENCES COLABORADOR(IdFunc)NOT NULL,
	ResenhaEntregue VARCHAR(30) NULL,
	DataEntraga DATETIME NULL,
	NrResenha INT NULL,
	ValidacaoResenha REAL NULL,
	Paragrafo REAL NULL,
	Margens REAL NULL,
	Legivel REAL NULL,
	Rasuras	REAL NULL,
	Compreensao REAL NULL,
	Compatibilidade REAL NULL,
	Tema REAL NULL,
	Fidedignidade VARCHAR(MAX) NULL,
	Observacao VARCHAR(MAX) NULL,	
	UsuarioInsert VARCHAR(50) NULL,
	UsuarioUp VARCHAR(50) NULL,
	DataInsert VARCHAR(20) NULL,
	DataUp VARCHAR(20) NULL,
	HorarioInsert VARCHAR(10) NULL,
	HorarioUp VARCHAR(10) NULL,	
	)

-- TABELA DE REMIÇÃO POR INTERNO

IF NOT EXISTS (SELECT NULL FROM SYSOBJECTS WHERE ID = OBJECT_ID('ACUMULADOR_REMICAO_INTERNO'))
	CREATE TABLE ACUMULADOR_REMICAO_INTERNO
	(
	IdAcum INT IDENTITY(1,1) PRIMARY KEY NOT NULL,
	DataRegistro DATETIME NULL,
	IdInternoCrc INT FOREIGN KEY REFERENCES PRONTUARIOSCRC(IdInternoCrc) NOT NULL,
	IdResenha INT FOREIGN KEY REFERENCES RESENHA_REMICAO_INTERNO(IdResenha) NOT NULL,
	DiaResenha INT NULL,
	Validacao REAL NULL,
	)
	
-- PRONTUARIO DE INTERNO CRC
IF NOT EXISTS(SELECT 1 FROM SYSCOLUMNS WHERE ID = OBJECT_ID('PRONTUARIOSCRC') AND NAME = 'DocumentacaoCompleta')
   ALTER TABLE PRONTUARIOSCRC ADD DocumentacaoCompleta VARCHAR(20) NULL

IF NOT EXISTS(SELECT 1 FROM SYSCOLUMNS WHERE ID = OBJECT_ID('PRONTUARIOSCRC') AND NAME = 'QuaisDocumentosFaltam')
   ALTER TABLE PRONTUARIOSCRC ADD QuaisDocumentosFaltam VARCHAR(200) NULL


-- CAPACITAÇÃO DE INTERNOS - CURSOS E OFICINAS

IF NOT EXISTS (SELECT NULL FROM SYSOBJECTS WHERE ID = OBJECT_ID('CAPACITACAO_INTERNO_TO'))
	CREATE TABLE CAPACITACAO_INTERNO_TO
	(
	IdCap INT IDENTITY(1,1) PRIMARY KEY NOT NULL,
    StatusRegistro VARCHAR(20) NULL,
	DataRegistro DATETIME NULL,
	IdCurso INT FOREIGN KEY REFERENCES CURSOS(IdCurso) NOT NULL,
	Observacao VARCHAR(MAX) NULL,	
	UsuarioInsert VARCHAR(50) NULL,
	UsuarioUp VARCHAR(50) NULL,
	DataInsert VARCHAR(20) NULL,
	DataUp VARCHAR(20) NULL,
	HorarioInsert VARCHAR(10) NULL,
	HorarioUp VARCHAR(10) NULL,	
	)


IF NOT EXISTS (SELECT NULL FROM SYSOBJECTS WHERE ID = OBJECT_ID('ITENS_CAPACITACAO_INTERNO_TO'))
	CREATE TABLE ITENS_CAPACITACAO_INTERNO_TO
	(
	IdItemCap INT IDENTITY(1,1) PRIMARY KEY NOT NULL,    
	DataInicio DATETIME NULL,
	DataConclusao DATETIME NULL,
	IdInternoCrc INT FOREIGN KEY REFERENCES PRONTUARIOSCRC(IdInternoCrc) NOT NULL,
	IdCap INT FOREIGN KEY REFERENCES CAPACITACAO_INTERNO_TO(IdCap) NOT NULL,
	SituacaoCurso VARCHAR(80) NULL,
	CargaHoraria VARCHAR(20) NULL,
	NotaAvalia REAL NULL,
	UsuarioInsert VARCHAR(50) NULL,
	UsuarioUp VARCHAR(50) NULL,
	DataInsert VARCHAR(20) NULL,
	DataUp VARCHAR(20) NULL,
	HorarioInsert VARCHAR(10) NULL,
	HorarioUp VARCHAR(10) NULL,	
	)

-- CONTROLE DE FREQUÊNCIA DOS INTERNOS QUE ESTÃO NO CURSO/OFICINA

IF NOT EXISTS (SELECT NULL FROM SYSOBJECTS WHERE ID = OBJECT_ID('FREQUENCIA_CAPACITACAO_INTERNO_TO'))
	CREATE TABLE FREQUENCIA_CAPACITACAO_INTERNO_TO
	(
	IdFreqCap INT IDENTITY(1,1) PRIMARY KEY NOT NULL,
    StatusRegistro VARCHAR(20) NULL,
	DataRegistro DATETIME NULL,
	IdCurso INT FOREIGN KEY REFERENCES CURSOS(IdCurso) NOT NULL,
	LocalCurso VARCHAR(100) NULL,
	Observacao VARCHAR(MAX) NULL,	
	UsuarioInsert VARCHAR(50) NULL,
	UsuarioUp VARCHAR(50) NULL,
	DataInsert VARCHAR(20) NULL,
	DataUp VARCHAR(20) NULL,
	HorarioInsert VARCHAR(10) NULL,
	HorarioUp VARCHAR(10) NULL,	
	)


IF NOT EXISTS (SELECT NULL FROM SYSOBJECTS WHERE ID = OBJECT_ID('ITENS_FREQUENCIA_CAPACITACAO_INTERNO_TO'))
	CREATE TABLE ITENS_FREQUENCIA_CAPACITACAO_INTERNO_TO
	(
	IdItemFreqCap INT IDENTITY(1,1) PRIMARY KEY NOT NULL,    	
	IdInternoCrc INT FOREIGN KEY REFERENCES PRONTUARIOSCRC(IdInternoCrc) NOT NULL,
	IdFreqCap INT FOREIGN KEY REFERENCES FREQUENCIA_CAPACITACAO_INTERNO_TO(IdFreqCap) NOT NULL,
	DataEntrada DATETIME NULL,
	HoraEntrada VARCHAR(20) NULL,
	HoraSaida VARCHAR(20) NULL,
	NotaAvalia REAL NULL,
	Frequencia VARCHAR(80) NULL,
	UsuarioInsert VARCHAR(50) NULL,
	UsuarioUp VARCHAR(50) NULL,
	DataInsert VARCHAR(20) NULL,
	DataUp VARCHAR(20) NULL,
	HorarioInsert VARCHAR(10) NULL,
	HorarioUp VARCHAR(10) NULL,	
	)

-- INSERIR O CAMPO CRIADO PARA O NOVO MÓDULO

 IF NOT EXISTS(SELECT NULL FROM MODULOS WHERE NomeModulo='GERENCIAMENTO DAS UNIDADES')
    INSERT INTO MODULOS(NomeModulo, UsuarioInsert) VALUES('GERENCIAMENTO DAS UNIDADES','ADMINISTRADOR DO SISTEMA')

-- DOCUMENTOS PARA ADMISSÃO NA UNIDADE PRISIONAL

IF NOT EXISTS (SELECT NULL FROM SYSOBJECTS WHERE ID = OBJECT_ID('CHECK_LIST_DOCUMENTOS_INTERNO_CRC'))
	CREATE TABLE CHECK_LIST_DOCUMENTOS_INTERNO_CRC
	(
	IdChek INT IDENTITY(1,1) PRIMARY KEY NOT NULL,    	
	DescricaoDocumentos VARCHAR(250) NOT NULL,		
	)

IF NOT EXISTS(SELECT NULL FROM CHECK_LIST_DOCUMENTOS_INTERNO_CRC WHERE DescricaoDocumentos='Ofício de encaminhamento do preso')
    INSERT INTO CHECK_LIST_DOCUMENTOS_INTERNO_CRC(DescricaoDocumentos) VALUES('Ofício de encaminhamento do preso')

IF NOT EXISTS(SELECT NULL FROM CHECK_LIST_DOCUMENTOS_INTERNO_CRC WHERE DescricaoDocumentos='Sentença condenatória (SE PRESO CONDENADO)')
    INSERT INTO CHECK_LIST_DOCUMENTOS_INTERNO_CRC(DescricaoDocumentos) VALUES('Sentença condenatória (SE PRESO CONDENADO)')

IF NOT EXISTS(SELECT NULL FROM CHECK_LIST_DOCUMENTOS_INTERNO_CRC WHERE DescricaoDocumentos='Guia de Recolhimento do Preso (SE PRESO CONDENADO)')
    INSERT INTO CHECK_LIST_DOCUMENTOS_INTERNO_CRC(DescricaoDocumentos) VALUES('Guia de Recolhimento do Preso (SE PRESO CONDENADO)')

IF NOT EXISTS(SELECT NULL FROM CHECK_LIST_DOCUMENTOS_INTERNO_CRC WHERE DescricaoDocumentos='Auto de Prisão em Flagrante')
    INSERT INTO CHECK_LIST_DOCUMENTOS_INTERNO_CRC(DescricaoDocumentos) VALUES('Auto de Prisão em Flagrante')

IF NOT EXISTS(SELECT NULL FROM CHECK_LIST_DOCUMENTOS_INTERNO_CRC WHERE DescricaoDocumentos='Nota de Culpa')
    INSERT INTO CHECK_LIST_DOCUMENTOS_INTERNO_CRC(DescricaoDocumentos) VALUES('Nota de Culpa')

IF NOT EXISTS(SELECT NULL FROM CHECK_LIST_DOCUMENTOS_INTERNO_CRC WHERE DescricaoDocumentos='Mandado de Prisão (SE PRESO PROVISÓRIO)')
    INSERT INTO CHECK_LIST_DOCUMENTOS_INTERNO_CRC(DescricaoDocumentos) VALUES('Mandado de Prisão (SE PRESO PROVISÓRIO)')

-- TABELA QUE ESPECIFICA SE O INTERNO ESTÁ EM ANDAMENTO OU CONCLUÍDO NA PSICOLOGIA

IF NOT EXISTS (SELECT NULL FROM SYSOBJECTS WHERE ID = OBJECT_ID('STATUS_INTERNO_PSICOLOGIA'))
	CREATE TABLE STATUS_INTERNO_PSICOLOGIA
	(
	IdSE INT IDENTITY(1,1) PRIMARY KEY NOT NULL,    	
	IdInternoCrc INT FOREIGN KEY REFERENCES PRONTUARIOSCRC(IdInternoCrc) NOT NULL,
	StatusAtendimento VARCHAR(15) NULL,
	)

IF NOT EXISTS (SELECT NULL FROM SYSOBJECTS WHERE ID = OBJECT_ID('LISTA_DOCUMENTOS_INTERNO_CRC'))
	CREATE TABLE LISTA_DOCUMENTOS_INTERNO_CRC
	(
	IdLista INT IDENTITY(1,1) PRIMARY KEY NOT NULL,    	
	IdInternoCrc INT FOREIGN KEY REFERENCES PRONTUARIOSCRC(IdInternoCrc) NOT NULL,
	IdChek INT FOREIGN KEY REFERENCES CHECK_LIST_DOCUMENTOS_INTERNO_CRC(IdChek) NOT NULL,
	)

-- PEDAGOGIA - TEMPO FORMATIVO

IF NOT EXISTS(SELECT 1 FROM SYSCOLUMNS WHERE ID = OBJECT_ID('TEMPOFORMATIVO') AND NAME = 'Eixo')
   ALTER TABLE TEMPOFORMATIVO ADD Eixo VARCHAR(60) NULL


IF NOT EXISTS(SELECT 1 FROM SYSCOLUMNS WHERE ID = OBJECT_ID('TEMPOFORMATIVO') AND NAME = 'Duracao')
   ALTER TABLE TEMPOFORMATIVO ADD Duracao REAL NULL


IF NOT EXISTS (SELECT NULL FROM SYSOBJECTS WHERE ID = OBJECT_ID('ATUALIZAR_MATRICULA_INTERNO'))
	CREATE TABLE ATUALIZAR_MATRICULA_INTERNO
	(
	IdAtual INT IDENTITY(1,1) PRIMARY KEY NOT NULL,   
	StatusAtual VARCHAR(20) NULL,
	DataRegistro DATETIME NULL, 	
	IdInternoCrc INT FOREIGN KEY REFERENCES PRONTUARIOSCRC(IdInternoCrc) NOT NULL,
	IdMat INT FOREIGN KEY REFERENCES MATRICULAESCOLAR(IdMat) NOT NULL,
	StatusAluno VARCHAR(30) NULL,
	SituacaoAluno VARCHAR(30) NULL,
	DataAvaliacao DATETIME NULL,
	Avaliacao REAL NULL,
	Observacao VARCHAR(MAX) NULL,
	UsuarioInsert VARCHAR(50) NULL,
	UsuarioUp VARCHAR(50) NULL,
	DataInsert VARCHAR(20) NULL,
	DataUp VARCHAR(20) NULL,
	HorarioInsert VARCHAR(10) NULL,
	HorarioUp VARCHAR(10) NULL,	
	)

-- EVOLUÇÃO ATENDIMENTO FAMILIA

IF NOT EXISTS (SELECT NULL FROM SYSOBJECTS WHERE ID = OBJECT_ID('EVOLUCAO_ATENDIMENTO_FAMILIA'))
	CREATE TABLE EVOLUCAO_ATENDIMENTO_FAMILIA
	(
	IdEvolucaoFam INT IDENTITY(1,1) PRIMARY KEY NOT NULL,   	
	DataEvolVisita DATETIME NULL, 	
	IdVisita INT FOREIGN KEY REFERENCES VISITASINTERNO(IdVisita) NOT NULL,
	IdAtendf INT FOREIGN KEY REFERENCES ATENDIMENTOFAMILIAR(IdAtendf) NOT NULL,	
	TextoEvolucaoVisita VARCHAR(MAX) NULL,
	UsuarioInsert VARCHAR(50) NULL,
	UsuarioUp VARCHAR(50) NULL,
	DataInsert VARCHAR(20) NULL,
	DataUp VARCHAR(20) NULL,
	HorarioInsert VARCHAR(10) NULL,
	HorarioUp VARCHAR(10) NULL,	
	)

-- CAMPOS PARA O ATENDIMENTO FAMILIA

IF NOT EXISTS(SELECT 1 FROM SYSCOLUMNS WHERE ID = OBJECT_ID('ATENDIMENTOFAMILIAR') AND NAME = 'ReconhecerPaternidade')
   ALTER TABLE ATENDIMENTOFAMILIAR ADD ReconhecerPaternidade VARCHAR(15) NULL
IF NOT EXISTS(SELECT 1 FROM SYSCOLUMNS WHERE ID = OBJECT_ID('ATENDIMENTOFAMILIAR') AND NAME = 'AuxilioReclusao')
   ALTER TABLE ATENDIMENTOFAMILIAR ADD AuxilioReclusao VARCHAR(15) NULL
IF NOT EXISTS(SELECT 1 FROM SYSCOLUMNS WHERE ID = OBJECT_ID('ATENDIMENTOFAMILIAR') AND NAME = 'OutroBerneficio')
   ALTER TABLE ATENDIMENTOFAMILIAR ADD OutroBerneficio VARCHAR(60) NULL
IF NOT EXISTS(SELECT 1 FROM SYSCOLUMNS WHERE ID = OBJECT_ID('ATENDIMENTOFAMILIAR') AND NAME = 'PossuiFilhos')
   ALTER TABLE ATENDIMENTOFAMILIAR ADD PossuiFilhos VARCHAR(25) NULL
IF NOT EXISTS(SELECT 1 FROM SYSCOLUMNS WHERE ID = OBJECT_ID('ATENDIMENTOFAMILIAR') AND NAME = 'QuantidadeFilhos')
   ALTER TABLE ATENDIMENTOFAMILIAR ADD QuantidadeFilhos INT
IF NOT EXISTS(SELECT 1 FROM SYSCOLUMNS WHERE ID = OBJECT_ID('ATENDIMENTOFAMILIAR') AND NAME = 'QualIdade')
   ALTER TABLE ATENDIMENTOFAMILIAR ADD QualIdade VARCHAR(25) NULL
IF NOT EXISTS(SELECT 1 FROM SYSCOLUMNS WHERE ID = OBJECT_ID('ATENDIMENTOFAMILIAR') AND NAME = 'Estudam')
   ALTER TABLE ATENDIMENTOFAMILIAR ADD Estudam VARCHAR(25) NULL
IF NOT EXISTS(SELECT 1 FROM SYSCOLUMNS WHERE ID = OBJECT_ID('ATENDIMENTOFAMILIAR') AND NAME = 'TipoEscola')
   ALTER TABLE ATENDIMENTOFAMILIAR ADD TipoEscola VARCHAR(60) NULL
--IF NOT EXISTS(SELECT 1 FROM SYSCOLUMNS WHERE ID = OBJECT_ID('ATENDIMENTOFAMILIAR') AND NAME = 'Estudam')
  -- ALTER TABLE ATENDIMENTOFAMILIAR ADD Estudam VARCHAR(25) NULL
IF NOT EXISTS(SELECT 1 FROM SYSCOLUMNS WHERE ID = OBJECT_ID('ATENDIMENTOFAMILIAR') AND NAME = 'ParticipaProjeto')
   ALTER TABLE ATENDIMENTOFAMILIAR ADD ParticipaProjeto VARCHAR(MAX) NULL
IF NOT EXISTS(SELECT 1 FROM SYSCOLUMNS WHERE ID = OBJECT_ID('ATENDIMENTOFAMILIAR') AND NAME = 'Endereco')
   ALTER TABLE ATENDIMENTOFAMILIAR ADD Endereco VARCHAR(150) NULL
IF NOT EXISTS(SELECT 1 FROM SYSCOLUMNS WHERE ID = OBJECT_ID('ATENDIMENTOFAMILIAR') AND NAME = 'Cidade')
   ALTER TABLE ATENDIMENTOFAMILIAR ADD Cidade VARCHAR(100) NULL
IF NOT EXISTS(SELECT 1 FROM SYSCOLUMNS WHERE ID = OBJECT_ID('ATENDIMENTOFAMILIAR') AND NAME = 'Estado')
   ALTER TABLE ATENDIMENTOFAMILIAR ADD Estado VARCHAR(60) NULL
IF NOT EXISTS(SELECT 1 FROM SYSCOLUMNS WHERE ID = OBJECT_ID('ATENDIMENTOFAMILIAR') AND NAME = 'Telefone1')
   ALTER TABLE ATENDIMENTOFAMILIAR ADD Telefone1 VARCHAR(100) NULL
IF NOT EXISTS(SELECT 1 FROM SYSCOLUMNS WHERE ID = OBJECT_ID('ATENDIMENTOFAMILIAR') AND NAME = 'Telefone2')
   ALTER TABLE ATENDIMENTOFAMILIAR ADD Telefone2 VARCHAR(100) NULL
IF NOT EXISTS(SELECT 1 FROM SYSCOLUMNS WHERE ID = OBJECT_ID('ATENDIMENTOFAMILIAR') AND NAME = 'Celular')
   ALTER TABLE ATENDIMENTOFAMILIAR ADD Celular VARCHAR(100) NULL
IF NOT EXISTS(SELECT 1 FROM SYSCOLUMNS WHERE ID = OBJECT_ID('ATENDIMENTOFAMILIAR') AND NAME = 'Trabalha')
   ALTER TABLE ATENDIMENTOFAMILIAR ADD Trabalha VARCHAR(100) NULL
IF NOT EXISTS(SELECT 1 FROM SYSCOLUMNS WHERE ID = OBJECT_ID('ATENDIMENTOFAMILIAR') AND NAME = 'Escolaridade')
   ALTER TABLE ATENDIMENTOFAMILIAR ADD Escolaridade VARCHAR(100) NULL
IF NOT EXISTS(SELECT 1 FROM SYSCOLUMNS WHERE ID = OBJECT_ID('ATENDIMENTOFAMILIAR') AND NAME = 'ProblemaSaude')
   ALTER TABLE ATENDIMENTOFAMILIAR ADD ProblemaSaude VARCHAR(100) NULL
IF NOT EXISTS(SELECT 1 FROM SYSCOLUMNS WHERE ID = OBJECT_ID('ATENDIMENTOFAMILIAR') AND NAME = 'QualProblemaSaude')
   ALTER TABLE ATENDIMENTOFAMILIAR ADD QualProblemaSaude VARCHAR(100) NULL
IF NOT EXISTS(SELECT 1 FROM SYSCOLUMNS WHERE ID = OBJECT_ID('ATENDIMENTOFAMILIAR') AND NAME = 'UsoMedicacao')
   ALTER TABLE ATENDIMENTOFAMILIAR ADD UsoMedicacao VARCHAR(100) NULL
IF NOT EXISTS(SELECT 1 FROM SYSCOLUMNS WHERE ID = OBJECT_ID('ATENDIMENTOFAMILIAR') AND NAME = 'QuaisMedicacoes')
   ALTER TABLE ATENDIMENTOFAMILIAR ADD QuaisMedicacoes VARCHAR(60) NULL
IF NOT EXISTS(SELECT 1 FROM SYSCOLUMNS WHERE ID = OBJECT_ID('ATENDIMENTOFAMILIAR') AND NAME = 'DoencaPermanente')
   ALTER TABLE ATENDIMENTOFAMILIAR ADD DoencaPermanente VARCHAR(60) NULL
IF NOT EXISTS(SELECT 1 FROM SYSCOLUMNS WHERE ID = OBJECT_ID('ATENDIMENTOFAMILIAR') AND NAME = 'QuaisDoencas')
   ALTER TABLE ATENDIMENTOFAMILIAR ADD QuaisDoencas VARCHAR(100) NULL